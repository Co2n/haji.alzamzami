<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daftar ke AZ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&family=Readex+Pro:wght@160..700&family=Tajawal:wght@200;300;400;500;700;800;900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="daftar.css" />
</head>

<body>
  <section id="daftar" class="daftar">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-10 text-center">
          <h2>Daftar Bimbingan<br />Manasik Haji</h3>
        </div>
        <div class="col-md-10 text-center box-daftar">
          <form class="row g-3 needs-validation" id="pendaftaran" method="post"
            action="https://script.google.com/macros/s/AKfycbwzlDMpcMBVZtCEEDXRE6QnXL2odLfSVTCFlZ07MGOeHCpLP0qL4jNKxP_hLsJ44kPV/exec"
            novalidate>
            <div class="col-md-3">
              <label for="porsi" class="form-label">No. Porsi*</label>
              <input name="PORSI" min="1000614429" max="1009999999" length="10" type="number" class="form-control"
                id="porsi" placeholder="1000" length="10" required />
              <!-- <div class="valid-feedback">Ini sudah ok!</div> -->
            </div>
            <div class="col-md-3">
              <label for="spph" class="form-label">No. SPPH</label>
              <input name="SPPH" type="number" class="form-control" id="spph" placeholder="10" />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-3">
              <label for="estimasi" class="form-label">Estimasi Berangkat*</label>
              <input name="TAHUN" min="2025" max="2100" length="4" type="number" class="form-control" id="estimasi"
                placeholder="tahun" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-3">
              <label for="hp" class="form-label">No. HP*</label>
              <input name="HP" length="13" type="text" class="form-control" id="hp" placeholder="08.." required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-6">
              <label for="namalengkap" class="form-label">Nama Lengkap*</label>
              <input name="NAMA" type="text" class="form-control" id="namalengkap" placeholder="sesuai KTP" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            
            <div class="col-md-3">
              <label for="tmpLahir" class="form-label">Tempat Lhr*</label>
              <input name="TMP_LHR" type="text" class="form-control" id="tmpLahir" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-3">
              <label for="tglLahir" class="form-label">Tgl Lahir*</label>
              <input name="TGL_LHR" type="date" class="form-control" id="tglLahir" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-12">
              <script>
                function check(browser) {
                  document.getElementById("GENDER").value = browser;
                }
              </script>
              <input type="radio" class="form-check-input" id="pria" name="GENDER" value="L" onclick="check(this.value)"
                required>
              <label class="form-check-label" for="pria">Pria</label>
              <input type="radio" class="form-check-input" id="wanita" name="GENDER" value="P"
                onclick="check(this.value)" required>
              <label class="form-check-label" for="wanita">Wanita</label>
              <input type="hidden" name="GENDER" id="GENDER">
              <div class="invalid-feedback">Pilih salah satu jenis kelamin</div>
            </div>
            <div class="col-md-4">
              <label for="alamat" class="form-label">Alamat*</label>
              <input name="ALAMAT" type="text" class="form-control" id="alamat" placeholder="sesuai KTP" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-2">
              <label for="rt" class="form-label">RT*</label>
              <input name="RT" length="3" type="text" class="form-control" id="rt" placeholder="000" required />
              <div class="valid-feedback">ok!</div>
            </div>
            <div class="col-md-2">
              <label for="rw" class="form-label">RW*</label>
              <input name="RW" length="3" type="text" class="form-control" id="rw" placeholder="000" required />
              <div class="valid-feedback">ok!</div>
            </div>
            <div class="col-md-4">
              <label for="desa" class="form-label">Desa/Kel.*</label>
              <input name="DESA" type="text" class="form-control" id="desa" placeholder="sesuai KTP" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-4">
              <label for="kec" class="form-label">Kecamatan*</label>
              <input name="KECAMATAN" type="text" class="form-control" id="kec" placeholder="sesuai KTP" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-2">
              <label for="kodepos" class="form-label">Kode Pos</label>
              <input name="KODE_POS" type="number" class="form-control" id="kodepos" />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-3">
              <label for="bank" class="form-label">Nama Bank*</label>
              <input name="BANK" type="text" class="form-control" id="bank" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-3">
              <label for="tglDaftar" class="form-label">Tanggal Daftar*</label>
              <input name="DAFTAR" type="date" class="form-control" id="tglDaftar" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <div class="col-md-12">
              <label for="namaayah" class="form-label">Nama Ayah Kandung*</label>
              <input name="AYAH" type="text" class="form-control" id="namaayah" placeholder="sesuai KK" required />
              <div class="valid-feedback">Ini sudah ok!</div>
            </div>
            <input type="hidden" id="lok" name="LOKASI" />
            <input type="hidden" name="REG" value="TRUE" />
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="1" id="invalidCheck" required />
                <label class="form-check-label" for="invalidCheck">
                  Bismillah, dengan ini saya mendaftarkan diri bimbingan Manasik Haji di KBIHU Al-Zamzami
                </label>
                <div class="invalid-feedback">
                  Mohon maaf, Bismillah dulu ya..
                </div>
              </div>
            </div>
            <div class="col-12">
              <button class="btn btn-primary btn-lg" type="submit">
                DAFTAR
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <script>
    getLocation();
    const x = document.getElementById("lok");
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else {
        x.setAttribute("value", "Lokasi tidak aktif");
      }
    }
    function showPosition(position) {
      x.setAttribute(
        "value",
        position.coords.latitude + " , " + position.coords.longitude
      );
    }
    (function () {
      "use strict";
      window.addEventListener("load", function () {
        const form = document.getElementById("pendaftaran");
        form.addEventListener("submit", function (e) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          } else {
            e.preventDefault();
            const data = new FormData(form);
            const action = e.target.action;
            fetch(action, {
              method: "POST",
              body: data,
            }).then(() => {
              alert("Terimakasih, Pendaftaran telah kami terima");
              location.replace("https://haji.alzamzami.co.id")
            });
          }
          form.classList.add("was-validated");
        }, false);
      });
    })();
  </script>
</body>

</html>